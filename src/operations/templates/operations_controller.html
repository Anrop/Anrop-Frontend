<div ng-repeat="operation in operations track by operation.id">
  <div class="operation-image-holder">
    <a href="operations/{{ operation.id }}" style="background-image: url({{ operation.image }});" class="operation-image"></a>

    <!-- Ribbons -->
    <div class="corner-ribbon bottom-right red shadow" ng-if="operation.hidden">OPUBLICERAD</div>
    <div class="corner-ribbon bottom-right green shadow" ng-if="operation.participating">DELTAR</div>

    <div class="operation-image-overlay">
      <div class="pull-right">
        <span class="badge">
          <span class="glyphicon glyphicon-lock" ng-if="operation.locked"></span>
          {{ operation.number_of_participants }} / {{ operation.number_of_slots }}
        </span>
      </div>

      <div class="pull-left hidden-xs" style="margin-right: 1em">
        <div class="avatar-small" style="background-image: url({{ operation.author.avatar_url }});" alt=""></div>
      </div>

      <div class="operation-overlay-title">
        <span>
          <a ng-href="operations/{{ operation.id }}">{{ operation.title }}</a>
        </span>
        <span class="hidden-xs">
          av {{ operation.author.name }}
        </span>
      </div>

      <div class="operation-overlay-date">
        <span class="hidden-xs">
          {{ operation.start | date:'EEEE d MMMM HH:mm' }}
        </span>
        <span class="visible-xs">
          {{ operation.start | date:'EEE d MMM HH:mm' }}
        </span>
      </div>
    </div>
  </div>
</div>
